"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[879],{4231:function(e,t,s){s.d(t,{Z:function(){return p}});var n=s(9439),r=s(8391),l=s(774),i=s(5536),c=s(6445),a=[{title:"Home",url:"/dashboard"},{title:" All Users",url:"/dashboard-users"},{title:" All Orders",url:"/dashboard-orders"},{title:" create Product",url:"/dashboard-create-product"},{title:"Create Category",url:"/dashboard-create-category"},{title:"Logout",url:"/logout"}],o=s(5382),d=s(3712),u=function(e){var t=e.active,s=(0,l.v9)((function(e){return e.seller})).isSeller;return(0,d.jsx)("div",{className:"sm:mt-0 mt-16 block 800px:".concat(o.Z.noramlFlex),children:a&&a.map((function(e,n){return(0,d.jsx)("div",{className:"flex justify-center",children:s&&"/profile"===e.url?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(i.rU,{to:e.url,className:"".concat(t===n+1?"text-[#17dd1f]":"text-black  800px:text-[#fff]"," sm:text-xl text-xl pb-[30px] 800px:pb-0 font-[500] px-6 cursor-pointer"),children:e.title})},n)}))})},x=s(1900),p=function(){var e=(0,r.useState)(!1),t=(0,n.Z)(e,2),s=t[0],a=t[1];(0,l.v9)((function(e){return e.seller})).seller;return(0,d.jsxs)("div",{className:"w-full h-[50px] bg-white shadow sticky top-0 left-0 z-30 flex items-center justify-between px-4",children:[(0,d.jsx)("div",{children:(0,d.jsx)(c.HjU,{size:40,className:"ml-4",onClick:function(){return a(!0)}})})," ",(0,d.jsx)("div",{children:(0,d.jsx)(i.rU,{to:"/",children:(0,d.jsx)("img",{src:"/ecommerce/react-node/admin/media/logo.png",alt:"",width:"120",style:{height:"30px"}})})}),s&&(0,d.jsx)("div",{className:"fixed w-full bg-[#0000005f] z-9999 h-full top-0 left-0",children:(0,d.jsxs)("div",{className:"fixed w-[100%] bg-[#fff] h-screen top-0 left-0 z-10 overflow-y-scroll",children:[(0,d.jsxs)("div",{className:"w-full justify-between flex pr-3",children:[(0,d.jsx)("div",{}),(0,d.jsx)(x.ySC,{size:38,className:"ml-4 mt-5",onClick:function(){return a(!1)}})]}),(0,d.jsx)(u,{active:1}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{})]})}),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("div",{className:"flex items-center mr-4"})})]})}},8879:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(8391),r=s(4231),l=s(4165),i=s(5861),c=s(9439),a=s(5382),o=s(5949),d=s(8773),u=s(5536),x=s(774),p=s(1492),f=s(8312),h=s(7227),m=s(9229),v=s(3712),j=f.Z.create({baseURL:m.fw}),g=localStorage.getItem("adtoken");j.interceptors.request.use((function(e){return g&&(e.headers.Authorization="Bearer ".concat(g)),e}),(function(e){return Promise.reject(e)}));var b=function(){var e,t,s,r,f,g,b,w=(0,x.v9)((function(e){return e.order})),N=w.orders,y=(w.isLoading,(0,x.v9)((function(e){return e.seller})).seller),P=(0,x.I0)(),S=(0,n.useState)(""),k=(0,c.Z)(S,2),C=k[0],Z=k[1],O=(0,n.useState)(""),A=(0,c.Z)(O,2),R=A[0],U=A[1],E=(0,d.s0)(),L=(0,d.UO)().id;(0,n.useEffect)((function(){P((0,p.EP)(y._id))}),[P]);var _=N&&N.find((function(e){return e._id===L})),F=null===_||void 0===_?void 0:_.paidAt,I=new Date(F),z=new Date(I.getTime()+198e5),T=z.getUTCHours(),D=z.getUTCMinutes(),q=T>=12?"PM":"AM",B="".concat(T%12||12,":").concat(D.toString().padStart(2,"0")," ").concat(q),M=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.toast.success("Please wait . working..."),e.next=3,j.put("".concat(m.fw,"/order/update-order-status/").concat(L),{status:C},{withCredentials:!0}).then((function(e){h.toast.dismiss(),h.toast.success("Order updated!"),E("/dashboard-orders")})).catch((function(e){h.toast.error(e.response.data.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.toast.success("Please wait . working..."),e.next=3,j.put("".concat(m.fw,"/order/update-orderpay-status/").concat(L),{paystatus:R},{withCredentials:!0}).then((function(e){h.toast.dismiss(),h.toast.success("Payment updated!"),E("/dashboard-orders")})).catch((function(e){h.toast.error(e.response.data.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.put("".concat(m.fw,"/order/order-refund-success/").concat(L),{status:C},{withCredentials:!0}).then((function(e){h.toast.success("Order updated!"),P((0,p.EP)(y._id))})).catch((function(e){h.toast.error(e.response.data.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(null===_||void 0===_?void 0:_.status);var Y,G=null===_||void 0===_||null===(e=_.cart)||void 0===e?void 0:e.reduce((function(e,t){var s=parseFloat(t.itemWeight);return e+t.qty*s}),0),J=(Y=G)<=0?"Invalid weight":Y<=.5?50:Y<=1?100:Y<=2?150:Y<=3?200:Y<=4?250:Y<=5?300:Y<=6?350:Y<=7?400:500;return(0,v.jsxs)("div",{className:"py-4 min-h-screen ".concat(a.Z.section),children:[(0,v.jsx)("div",{className:"".concat(a.Z.normalFlex," flex flex-col items-center justify-center text-center w-full "),children:(0,v.jsxs)("div",{className:"flex items-center mb-14",children:[(0,v.jsxs)("h4",{className:"mr-2 text-l",children:[(0,v.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 inline-block mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,v.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go back to"]}),(0,v.jsx)("div",{onClick:function(){window.scrollTo(0,0),E(-1),window.scrollTo(0,0)},children:(0,v.jsx)(u.rU,{className:"text-blue-600 text-l",children:"Orders"})})]})}),(0,v.jsx)("div",{className:"w-full flex items-center justify-between",children:(0,v.jsxs)("div",{className:"flex items-center",children:[(0,v.jsx)(o.STE,{size:30,color:"crimson"}),(0,v.jsx)("h1",{className:"pl-2 text-[25px]",children:"Order Details"})]})}),(0,v.jsxs)("div",{className:"w-full flex items-center justify-between pt-6",children:[(0,v.jsxs)("h5",{className:"text-[#00000084]",children:["Order ID: ",(0,v.jsxs)("span",{children:["#",null===_||void 0===_?void 0:_._id]})]}),(0,v.jsxs)("h5",{className:"text-[#00000084]",children:["Placed on: ",(0,v.jsx)("span",{children:null===_||void 0===_||null===(t=_.createdAt)||void 0===t?void 0:t.slice(0,10)})]}),(0,v.jsxs)("h5",{className:"text-[#00000084]",children:["Placed time: ",(0,v.jsx)("span",{children:B})]})]}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),_&&(null===_||void 0===_?void 0:_.cart.map((function(e,t){return(0,v.jsxs)("div",{className:"w-full flex items-start mb-5",children:[(0,v.jsx)("img",{src:"".concat(m.LL,"/").concat(e.images[0]),alt:"",className:"w-[80x] h-[80px]"}),(0,v.jsxs)("div",{className:"w-full",children:[(0,v.jsxs)(u.rU,{to:"".concat("/product/".concat(e._id)),children:[(0,v.jsx)("img",{src:"".concat(m.tL).concat(e.images&&e.images[0]),alt:"",className:"w-[80px] max-h-44 min-h-[40%]   object-contain"}),(0,v.jsx)("h5",{className:"pl-3 text-[18px]",children:e.name})]}),(0,v.jsxs)("h5",{className:"pl-3 text-[20px] text-[#00000091]",children:["Rs",e.discountPrice," x ",e.qty]})]})]})}))),(0,v.jsxs)("div",{className:"border-t w-full text-right",children:[(0,v.jsxs)("h5",{className:"pt-3 text-[18px]",children:["Price ",(0,v.jsxs)("strong",{children:["Rs",(null===_||void 0===_?void 0:_.totalPrice)-J]})]}),(0,v.jsxs)("h5",{className:"pt-3 text-[18px]",children:["Shipping Cost: ",(0,v.jsxs)("strong",{children:["Rs",J]})]}),(0,v.jsxs)("h5",{className:"pt-3 text-[18px]",children:["Total Price: ",(0,v.jsxs)("strong",{children:["Rs",null===_||void 0===_?void 0:_.totalPrice]})]})]}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsxs)("div",{className:"w-full 800px:flex items-center",children:[(0,v.jsxs)("div",{className:"w-full 800px:w-[60%]",children:[(0,v.jsx)("h4",{className:"pt-3 text-[22px] font-[800]",children:"Shipping Address:"}),(0,v.jsx)("h4",{className:"pt-3 text-[20px]",children:(null===_||void 0===_?void 0:_.shippingAddress.address1)+" "+(null===_||void 0===_?void 0:_.shippingAddress.address2)}),(0,v.jsx)("h4",{className:" text-[20px]",children:null===_||void 0===_?void 0:_.shippingAddress.city}),(0,v.jsx)("h4",{className:" text-[20px]",children:null===_||void 0===_?void 0:_.shippingAddress.state}),(0,v.jsx)("h4",{className:" text-[20px]",children:null===_||void 0===_?void 0:_.shippingAddress.country}),(0,v.jsx)("h4",{className:" text-[20px]",children:null===_||void 0===_?void 0:_.shippingAddress.zipCode}),(0,v.jsx)("h4",{className:" text-[20px]",children:null===_||void 0===_||null===(s=_.user)||void 0===s?void 0:s.phoneNumber})]}),(0,v.jsxs)("div",{className:"w-full 800px:w-[40%]",children:[(0,v.jsx)("h4",{className:"pt-3 text-[22px] font-[800]",children:"Payment Info:"}),(0,v.jsxs)("h4",{children:["Status:"," ",null!==_&&void 0!==_&&null!==(r=_.paymentInfo)&&void 0!==r&&r.status?null===_||void 0===_||null===(f=_.paymentInfo)||void 0===f?void 0:f.status:"Not Paid"]})]})]}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("h4",{className:"pt-3 text-[22px] font-[600]",children:"Order Status:"}),"Processing refund"!==(null===_||void 0===_?void 0:_.status)&&"Refund Success"!==(null===_||void 0===_?void 0:_.status)&&(0,v.jsx)("select",{value:C,onChange:function(e){return Z(e.target.value)},className:"w-[200px] mt-2 border h-[35px] rounded-[5px]",children:["Order Successful","Order Billed and Placed","Shipped","Delivered"].slice(["Order Successful","Order Billed and Placed","Shipped","Delivered"].indexOf(null===_||void 0===_?void 0:_.status)).map((function(e,t){return(0,v.jsx)("option",{value:e,children:e},t)}))}),"Processing refund"===(null===_||void 0===_?void 0:_.status)||"Refund Success"===(null===_||void 0===_?void 0:_.status)?(0,v.jsx)("select",{value:C,onChange:function(e){return Z(e.target.value)},className:"w-[200px] mt-2 border h-[35px] rounded-[5px]",children:["Processing refund","Refund Success"].slice(["Processing refund","Refund Success"].indexOf(null===_||void 0===_?void 0:_.status)).map((function(e,t){return(0,v.jsx)("option",{value:e,children:e},t)}))}):null,(0,v.jsx)("div",{className:"".concat(a.Z.button," mt-5 !bg-[#FCE1E6] !rounded-[4px] text-[#E94560] font-[600] !h-[45px] text-[18px]"),onClick:"Processing refund"!==(null===_||void 0===_?void 0:_.status)?M:W,children:"Update Status"}),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)("h4",{className:"pt-3 text-[22px] font-[600]",children:"Payment Status:"}),null!==_&&void 0!==_&&null!==(g=_.paymentInfo)&&void 0!==g&&g.status?(0,v.jsx)("select",{value:R,onChange:function(e){return U(e.target.value)},className:"w-[200px] mt-2 border h-[35px] rounded-[5px]",children:["Confirming Your Payment","Payment Successfull","Payment Failed"].slice(["Confirming Your Payment","Payment Successfull","Payment Failed"].indexOf(null===_||void 0===_||null===(b=_.paymentInfo)||void 0===b?void 0:b.status)).map((function(e,t){return(0,v.jsx)("option",{value:e,children:e},t)}))}):null,(0,v.jsx)("div",{className:"".concat(a.Z.button," mt-5 !bg-[#FCE1E6] !rounded-[4px] text-[#E94560] font-[600] !h-[45px] text-[18px]"),onClick:H,children:"Update Status"})]})},w=function(){return(0,v.jsxs)("div",{children:[(0,v.jsx)(r.Z,{}),(0,v.jsx)(b,{})]})}},1492:function(e,t,s){s.d(t,{EP:function(){return c}});var n=s(4165),r=s(5861),l=s(8312),i=s(9229),c=function(e){return function(){var t=(0,r.Z)((0,n.Z)().mark((function t(s){var r,c;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:"getAllOrdersShopRequest"}),t.next=4,l.Z.get("".concat(i.fw,"/order/get-seller-all-orders/").concat(e));case 4:r=t.sent,c=r.data,s({type:"getAllOrdersShopSuccess",payload:c.orders}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:"getAllOrdersShopFailed",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},9229:function(e,t,s){s.d(t,{LL:function(){return r},fw:function(){return n},tL:function(){return l}});var n="https://api.websolutionshub.in/api/v2",r="",l=""},5382:function(e,t){t.Z={custom_container:"w-11/12 hidden sm:block",heading:"text-[27px] text-center md:text-start font-[600] font-Roboto pb-[20px]",section:"w-11/12 mx-auto",productTitle:"text-[25px] font-[600] font-Roboto text-[#333]",productDiscountPrice:"font-bold text-[18px] text-[#333] font-Roboto",price:"font-[500] text-[16px] text-[#d55b45] pl-3 mt-[-4px] line-through",shop_name:"pt-3 text-[15px] text-blue-400 pb-3",active_indicator:"absolute bottom-[-27%] left-0 h-[3px] w-full bg-[crimson]",button:"w-[150px] bg-black h-[50px] my-3 flex items-center justify-center rounded-xl cursor-pointer",cart_button:"px-[15px] lg:px-[20px] h-[38px] rounded-[20px] bg-[#f63b60] flex items-center justify-center cursor-pointer",cart_button_text:"text-[#fff] text-[14px] font-[600]",input:"w-full border p-1 rounded-[5px]",activeStatus:"w-[10px] h-[10px] rounded-full absolute top-0 right-1 bg-[#40d132]",noramlFlex:"flex items-center"}}}]);